{"changed":true,"filter":false,"title":"scoresheet_generator.py","tooltip":"/scoresheet_generator.py","value":"import requests\nimport time\nfrom BeautifulSoup import BeautifulSoup\nimport re\nimport pickle\nfrom time import sleep\n\n\"\"\" HANDLES THE DISMISSAL DETAILS -- INCLUDING THE TYPE OF DISMISSAL AND THE PERPETRATORS\"\"\"\n\nfielding_stats={}\n\ndef dismissal_handler(how_out):\n\tother=\"\"\n\tbowler=\"\"\n\tfieldingstat={\"catches\":0, \"stumpings\":0, \"runouts\":0}\n\tif(re.match('c.*b.*',how_out)):  #CATCH OUT\n\t\tleft=\"c \"\n\t\tright=\" b \"\n\t\tother = re.search('%s(.*)%s' % (left, right), how_out).group(1)\n\t\tleft=\"b \"\n\t\tbowler = re.search('%s(.*)' % (left), how_out).group(1)\n\t\tprint \"CAUGHT \", other, bowler\n\t\tfieldingstat[\"catches\"]=1\n\t\tother=other.strip()\n\t\tif other in fielding_stats:\n\t\t\tfielding_stats[other][\"catches\"]+=1\n\t\telse:\n\t\t\tfielding_stats[other]=fieldingstat\n\tif(re.match('lbw b.*',how_out)): #LEG BEFORE WICKET\n\t\tleft=\"lbw b \"\n\t\tbowler=re.search('%s(.*)' % (left), how_out).group(1)\n\t\tprint \"LBW \",bowler\n\tif(re.match('b.*',how_out)): #BOWLED\n\t\tleft=\"b \"\n\t\tbowler=re.search('%s(.*)' % (left), how_out).group(1)\n\t\tprint \"BOWLED \",bowler\n\tif(re.match('c & b .*',how_out)): #CAUGHT AND BOWLED\n\t\tleft=\"c & b \"\n\t\tbowler=re.search('%s(.*)' % (left), how_out).group(1)\n\t\tprint \"CAUGHT+BOWLED \",bowler\n\t\tbowler=bowler.strip()\n\t\tfieldingstat[\"catches\"]=1\n\t\tif bowler in fielding_stats:\n\t\t\tfielding_stats[bowler][\"catches\"]+=1\n\t\telse:\n\t\t\tfielding_stats[other]=fieldingstat\n\tif(re.match('st.*b.*',how_out)): #STUMPED\n\t\tleft=\"st \"\n\t\tright=\" b \"\n\t\tother = re.search('%s(.*)%s' % (left, right), how_out).group(1)\n\t\tleft=\"b \"\n\t\tfieldingstat[\"stumpings\"]=1\n\t\tbowler = re.search('%s(.*)' % (left), how_out).group(1)\n\t\tprint \"STUMPED \", other, bowler\n\t\tif other in fielding_stats:\n\t\t\tfielding_stats[other][\"stumpings\"]+=1\n\t\telse:\n\t\t\tfielding_stats[other]=fieldingstat\n\tif(re.match('run out.*',how_out)): #RUN OUT\n\t\tleft=\"run out (\"\n\t\tright=\")\"\n\t\tthrower = re.search('%s(.*)%s' % (left, right), how_out).group(1)\n\t\t#print thrower\n\t\tthrower=thrower.strip()\n\t\tthrower=thrower[1:len(thrower)-1]\n\t\tt=thrower.split('/')\n\t\tbowler=t[0].strip()\n\t\tfieldingstat[\"runouts\"]=1\n\t\tif bowler in fielding_stats:\n\t\t\tfielding_stats[bowler][\"runouts\"]+=1\n\t\telse:\n\t\t\tfielding_stats[bowler]=fieldingstat\n\t\t#print t[0]\n\t\tif(len(t)==2):\n\t\t\tother=t[1].strip()\n\t\t\t#print other\n\t\tfieldingstat[\"runouts\"]=1\n\t\tif other in fielding_stats:\n\t\t\tfielding_stats[other][\"runouts\"]+=1\n\t\telse:\n\t\t\tfielding_stats[other]=fieldingstat\n\t\t#print \"RUN OUT\",t[0],t[1]\n\t\n\tif(how_out.strip()==\"not out\"): #NOT OUT\n\t\tprint \"NOT OUT\"\n\t\t\n\"\"\" CRAWLS AN URL \"\"\"\n\ndef crawl(url):\n\twhile True:\n\t\ttry:\n\t\t\tprint \"trying to get URL... \",\n\t\t\tr=requests.get(url)\n\t\t\tprint \"Got URL!\"\n\t\t\treturn r.content\n\t\texcept Exception as e:\n\t\t\tprint e\n\t\t\tsleep(2)\n\t\t\tprint \"Retrying!!\"\n\nbase_url = 'http://www.espncricinfo.com/carlton-mid-triangular-series-2015/engine/match/754751.html'\nplayer_dict={\"Ian Bell\":0}\nhtml = crawl(base_url)\nprint \"Page crawled.\"\nparsed_html = BeautifulSoup(html)\n\nall_stats={} # STORES *ALL* THE STATS OF *ALL* THE PLAYERS INVOLVED IN THE MATCH\n\t\nbat_table=parsed_html.findAll(\"table\",{ \"class\" : \"batting-table innings\" })\n\nfor table in bat_table:\n\trows=table.findAll(\"tr\",{\"class\":None})\n\t\n\t# BATTING TABLE PARSER FOR BOTH INNINGS\n\t\n\tfor row in rows:\n\t\tplayerstatdict={\"runsmade\":0, \"wickets\":0, \"ballsfaced\":0, \"fours\":0, \"sixes\":0, \"oversbowled\":0, \"maidenovers\":0, \"runsgiven\":0, \"dotsbowled\":0, \"mom\":0, \"dnb\":0, \"funscore\":0}\n\t\tname=\"\"\n\t\tbatScore=0\n\t\truns=0\n\t\tfields=row.findAll(\"td\")\n\t\tfor i in range(0,8):\n\t\t\tif(i==1):\n\t\t\t\tleft=\"view the player profile for \"\n\t\t\t\tright=\"\\\" \"\n\t\t\t\tname = re.search('%s(.*)%s' % (left, right), str(fields[i])).group(1)\n\t\t\tif(i>=2 and i<=8):\n\t\t\t\tleft=\">\"\n\t\t\t\tright=\"</td>\"\n\t\t\t\tresult = re.search('%s(.*)%s' % (left, right), str(fields[i])).group(1)\n\t\t\t\t#print result,\n\t\t\t\tif(i==2):\n\t\t\t\t\tdismissal_handler(result)\n\t\t\t\tif(i==3):\n\t\t\t\t\truns=int(result.strip())\n\t\t\t\t\tif(runs==0):\n\t\t\t\t\t\tbatScore=batScore-5 #IMPACT DUCK\n\t\t\t\t\tbatScore=batScore+runs #RUNS SCORE\n\t\t\t\t\tplayerstatdict[\"runsmade\"]=runs\n\t\t\t\t\tbatScore=batScore+(runs/25)*10 #MILESTONE BONUS\n\t\t\t\tif(i==5):\n\t\t\t\t\tbatScore=batScore+runs-int(result.strip()) #PACE BONUS\n\t\t\t\t\tplayerstatdict[\"ballsfaced\"]=int(result.strip())\n\t\t\t\tif(i==6):\n\t\t\t\t\tplayerstatdict[\"fours\"]=int(result.strip())\n\t\t\t\tif(i==7):\n\t\t\t\t\tbatScore=batScore+int(result.strip())*2 #IMPACT SIXES\n\t\t\t\t\tplayerstatdict[\"sixes\"]=int(result.strip())\n\t\t#print\"  BATSCORE:\",batScore\n\t\tprint \"\"\n\t\tif name in player_dict:\n\t\t\tplayer_dict[name]=player_dict[name]+batScore\n\t\telse:\n\t\t\tplayer_dict[name]=batScore\n\t\t#print name, \"BAT,\", batScore\n\t\n\t\tall_stats[name]=playerstatdict\nbowl_table=parsed_html.findAll(\"table\",{ \"class\" : \"bowling-table\" })\nfor table in bowl_table:\n\trows=table.findAll(\"tr\",{\"class\":None})\n\t\n\t# BOWLING TABLE PARSER FOR BOTH INNINGS\n\t\n\tfor row in rows:\n\t\tplayerstatdict={\"runsmade\":0, \"wickets\":0, \"ballsfaced\":0, \"fours\":0, \"sixes\":0, \"oversbowled\":0.0, \"maidenovers\":0, \"runsgiven\":0, \"dotsbowled\":0, \"mom\":0, \"dnb\":0, \"funscore\":0}\n\t\tname=\"\"\n\t\tbowlScore=0\n\t\tballs=0\n\t\tfields=row.findAll(\"td\")\n\t\tfor i in range(0,10):\n\t\t\tif(i==1):\n\t\t\t\tleft=\"view the player profile for \"\n\t\t\t\tright=\"\\\" \"\n\t\t\t\t#print  name,\n\t\t\t\tname = re.search('%s(.*)%s' % (left, right), str(fields[i])).group(1)\n\t\t\tif(i>=2 and i<=10):\n\t\t\t\tleft=\">\"\n\t\t\t\tright=\"</td>\"\n\t\t\t\tresult = re.search('%s(.*)%s' % (left, right), str(fields[i])).group(1)\n\t\t\t\t#print result,\n\t\t\t\tif(i==3):\n\t\t\t\t\tmaidens=int(result.strip())\n\t\t\t\t\tif(maidens>0):\n\t\t\t\t\t\tbowlScore=bowlScore+maidens*20 #IMPACT SCORE MAIDENS\n\t\t\t\t\tplayerstatdict[\"maidenovers\"]=maidens\n\t\t\t\tif(i==5):\n\t\t\t\t\twickets=int(result.strip())\n\t\t\t\t\tbowlScore=bowlScore+wickets*20 #WICKETS SCORE\n\t\t\t\t\tbowlScore=bowlScore+(wickets-1)*10 #MILESTONE BONUS\n\t\t\t\t\tplayerstatdict[\"wickets\"]=wickets\n\t\t\t\tif(i==2):\n\t\t\t\t\tovers=float(result.strip()) #PACE BONUS\n\t\t\t\t\tov=int(overs)\n\t\t\t\t\tballs=ov*6+int((overs-ov)*10)\n\t\t\t\t\tplayerstatdict[\"oversbowled\"]=overs\n\t\t\t\tif(i==4):\n\t\t\t\t\truns=int(result.strip())\n\t\t\t\t\tbowlScore=bowlScore+int(1.5*balls-runs)\n\t\t\t\t\t#print balls,runs\n\t\t\t\t\tplayerstatdict[\"runsgiven\"]=runs\n\t\t\t\tif(i==7):\n\t\t\t\t\tdots=int(result.strip()) #IMPACT SCORE DOTS\n\t\t\t\t\tbowlScore=bowlScore+dots\n\t\t\t\t\tplayerstatdict[\"dotsbowled\"]=dots\n\t\t\t\t\n\t\t#print\"  BATSCORE:\",batScore\n\t\tprint \"\"\n\t\tif name in player_dict:\n\t\t\tplayer_dict[name]=player_dict[name]+bowlScore\n\t\telse:\n\t\t\tplayer_dict[name]=bowlScore\n\t\tprint name, \"BOWL,\", bowlScore\n\t\t\n\t\tif name in all_stats:\n\t\t\tall_stats[name][\"oversbowled\"]=playerstatdict[\"oversbowled\"]\n\t\t\tall_stats[name][\"maidenovers\"]=playerstatdict[\"maidenovers\"]\n\t\t\tall_stats[name][\"runsgiven\"]=playerstatdict[\"runsgiven\"]\n\t\t\tall_stats[name][\"wickets\"]=playerstatdict[\"wickets\"]\n\t\t\tall_stats[name][\"dotsbowled\"]=playerstatdict[\"dotsbowled\"]\n\t\telse:\n\t\t\tall_stats[name]=playerstatdict\n\t\t\n\t\t\n#print player_dict\nprint \"\\n \\n \\n\"\nprint all_stats\nprint fielding_stats\n#print rows[1].findAll(\"td\")\n#print bat_table\n#print parsed_html\n","undoManager":{"mark":99,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":27,"column":25},"end":{"row":27,"column":26},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":26},"end":{"row":27,"column":27},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":27},"end":{"row":27,"column":28},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":28},"end":{"row":27,"column":29},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":29},"end":{"row":27,"column":30},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":30},"end":{"row":27,"column":31},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":30},"end":{"row":27,"column":31},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":30},"end":{"row":27,"column":31},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":25},"end":{"row":27,"column":31},"action":"remove","lines":["fieldi"]},{"start":{"row":27,"column":25},"end":{"row":27,"column":37},"action":"insert","lines":["fieldingstat"]}]}],[{"group":"doc","deltas":[{"start":{"row":44,"column":3},"end":{"row":44,"column":39},"action":"remove","lines":["fielding_stats[bowler][\"catches\"]+=1"]},{"start":{"row":44,"column":3},"end":{"row":44,"column":37},"action":"insert","lines":["fielding_stats[other]=fieldingstat"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":23},"end":{"row":41,"column":0},"action":"insert","lines":["",""]},{"start":{"row":41,"column":0},"end":{"row":41,"column":2},"action":"insert","lines":["\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":2},"end":{"row":41,"column":27},"action":"insert","lines":["fieldingstat[\"catches\"]=1"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":11},"end":{"row":51,"column":0},"action":"insert","lines":["",""]},{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"insert","lines":["\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":2},"end":{"row":51,"column":3},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":3},"end":{"row":51,"column":4},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":4},"end":{"row":51,"column":5},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":5},"end":{"row":51,"column":6},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":6},"end":{"row":51,"column":7},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":2},"end":{"row":51,"column":7},"action":"remove","lines":["field"]},{"start":{"row":51,"column":2},"end":{"row":51,"column":14},"action":"insert","lines":["fieldingstat"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":14},"end":{"row":51,"column":15},"action":"insert","lines":["["]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":15},"end":{"row":51,"column":16},"action":"insert","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":16},"end":{"row":51,"column":17},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":17},"end":{"row":51,"column":18},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":18},"end":{"row":51,"column":19},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":16},"end":{"row":51,"column":19},"action":"remove","lines":["stu"]},{"start":{"row":51,"column":16},"end":{"row":51,"column":25},"action":"insert","lines":["stumpings"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":25},"end":{"row":51,"column":26},"action":"insert","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":26},"end":{"row":51,"column":27},"action":"insert","lines":["]"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":27},"end":{"row":51,"column":28},"action":"insert","lines":["+"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":27},"end":{"row":51,"column":28},"action":"remove","lines":["+"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":27},"end":{"row":51,"column":28},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":27},"end":{"row":51,"column":28},"action":"remove","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":26},"end":{"row":51,"column":27},"action":"remove","lines":["]"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":26},"end":{"row":51,"column":27},"action":"insert","lines":["]"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":27},"end":{"row":51,"column":28},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":28},"end":{"row":51,"column":29},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":53,"column":33},"end":{"row":54,"column":0},"action":"insert","lines":["",""]},{"start":{"row":54,"column":0},"end":{"row":54,"column":2},"action":"insert","lines":["\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":2},"end":{"row":57,"column":37},"action":"insert","lines":["if bowler in fielding_stats:","\t\t\tfielding_stats[bowler][\"catches\"]+=1","\t\telse:","\t\t\tfielding_stats[other]=fieldingstat"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":27},"end":{"row":55,"column":34},"action":"remove","lines":["catches"]},{"start":{"row":55,"column":27},"end":{"row":55,"column":28},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":28},"end":{"row":55,"column":29},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":29},"end":{"row":55,"column":30},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":30},"end":{"row":55,"column":31},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":27},"end":{"row":55,"column":31},"action":"remove","lines":["stum"]},{"start":{"row":55,"column":27},"end":{"row":55,"column":36},"action":"insert","lines":["stumpings"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":18},"end":{"row":55,"column":24},"action":"remove","lines":["bowler"]},{"start":{"row":55,"column":18},"end":{"row":55,"column":19},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":19},"end":{"row":55,"column":20},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":18},"end":{"row":55,"column":20},"action":"remove","lines":["ot"]},{"start":{"row":55,"column":18},"end":{"row":55,"column":23},"action":"insert","lines":["other"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":5},"end":{"row":54,"column":11},"action":"remove","lines":["bowler"]},{"start":{"row":54,"column":5},"end":{"row":54,"column":6},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":6},"end":{"row":54,"column":7},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":5},"end":{"row":54,"column":7},"action":"remove","lines":["ot"]},{"start":{"row":54,"column":5},"end":{"row":54,"column":10},"action":"insert","lines":["other"]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":13},"end":{"row":64,"column":0},"action":"insert","lines":["",""]},{"start":{"row":64,"column":0},"end":{"row":64,"column":2},"action":"insert","lines":["\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":2},"end":{"row":68,"column":37},"action":"insert","lines":["fieldingstat[\"catches\"]=1","\t\tif bowler in fielding_stats:","\t\t\tfielding_stats[bowler][\"catches\"]+=1","\t\telse:","\t\t\tfielding_stats[other]=fieldingstat"]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":16},"end":{"row":64,"column":23},"action":"remove","lines":["catches"]},{"start":{"row":64,"column":16},"end":{"row":64,"column":17},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":17},"end":{"row":64,"column":18},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":16},"end":{"row":64,"column":19},"action":"remove","lines":["run"]},{"start":{"row":64,"column":16},"end":{"row":64,"column":23},"action":"insert","lines":["runouts"]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":27},"end":{"row":66,"column":34},"action":"remove","lines":["catches"]},{"start":{"row":66,"column":27},"end":{"row":66,"column":28},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":28},"end":{"row":66,"column":29},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":29},"end":{"row":66,"column":30},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":27},"end":{"row":66,"column":30},"action":"remove","lines":["run"]},{"start":{"row":66,"column":27},"end":{"row":66,"column":34},"action":"insert","lines":["runouts"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":18},"end":{"row":68,"column":22},"action":"remove","lines":["othe"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":18},"end":{"row":68,"column":19},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":18},"end":{"row":68,"column":19},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":19},"end":{"row":68,"column":20},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":20},"end":{"row":68,"column":21},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":21},"end":{"row":68,"column":22},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":22},"end":{"row":68,"column":23},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":23},"end":{"row":68,"column":24},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":13},"end":{"row":70,"column":14},"action":"insert","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":13},"end":{"row":70,"column":14},"action":"remove","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":13},"end":{"row":71,"column":0},"action":"insert","lines":["",""]},{"start":{"row":71,"column":0},"end":{"row":71,"column":3},"action":"insert","lines":["\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":71,"column":2},"end":{"row":71,"column":3},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":71,"column":2},"end":{"row":74,"column":37},"action":"insert","lines":["if other in fielding_stats:","\t\t\tfielding_stats[other][\"stumpings\"]+=1","\t\telse:","\t\t\tfielding_stats[other]=fieldingstat"]}]}],[{"group":"doc","deltas":[{"start":{"row":72,"column":27},"end":{"row":72,"column":34},"action":"remove","lines":["tumping"]}]}],[{"group":"doc","deltas":[{"start":{"row":72,"column":26},"end":{"row":72,"column":27},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":72,"column":26},"end":{"row":72,"column":27},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":72,"column":27},"end":{"row":72,"column":28},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":72,"column":28},"end":{"row":72,"column":29},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":72,"column":26},"end":{"row":72,"column":30},"action":"remove","lines":["runs"]},{"start":{"row":72,"column":26},"end":{"row":72,"column":33},"action":"insert","lines":["runouts"]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":13},"end":{"row":71,"column":0},"action":"insert","lines":["",""]},{"start":{"row":71,"column":0},"end":{"row":71,"column":3},"action":"insert","lines":["\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":71,"column":2},"end":{"row":71,"column":3},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":71,"column":2},"end":{"row":71,"column":27},"action":"insert","lines":["fieldingstat[\"runouts\"]=1"]}]}],[{"group":"doc","deltas":[{"start":{"row":149,"column":2},"end":{"row":149,"column":3},"action":"insert","lines":["#"]}]}],[{"group":"doc","deltas":[{"start":{"row":168,"column":4},"end":{"row":168,"column":5},"action":"insert","lines":["#"]}]}],[{"group":"doc","deltas":[{"start":{"row":193,"column":5},"end":{"row":193,"column":6},"action":"insert","lines":["#"]}]}],[{"group":"doc","deltas":[{"start":{"row":220,"column":15},"end":{"row":221,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":0},"end":{"row":221,"column":1},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":1},"end":{"row":221,"column":2},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":2},"end":{"row":221,"column":3},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":3},"end":{"row":221,"column":4},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":4},"end":{"row":221,"column":5},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":5},"end":{"row":221,"column":6},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":6},"end":{"row":221,"column":7},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":7},"end":{"row":221,"column":8},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":8},"end":{"row":221,"column":9},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":8},"end":{"row":221,"column":9},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":7},"end":{"row":221,"column":8},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":7},"end":{"row":221,"column":8},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":8},"end":{"row":221,"column":9},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":9},"end":{"row":221,"column":10},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":10},"end":{"row":221,"column":11},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":221,"column":6},"end":{"row":221,"column":11},"action":"remove","lines":["field"]},{"start":{"row":221,"column":6},"end":{"row":221,"column":20},"action":"insert","lines":["fielding_stats"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":0},"end":{"row":79,"column":17},"action":"remove","lines":["def dismissal_handler(how_out):","\tother=\"\"","\tbowler=\"\"","\tfieldingstat={\"catches\":0, \"stumpings\":0, \"runouts\":0}","\tif(re.match('c.*b.*',how_out)):  #CATCH OUT","\t\tleft=\"c \"","\t\tright=\" b \"","\t\tother = re.search('%s(.*)%s' % (left, right), how_out).group(1)","\t\tleft=\"b \"","\t\tbowler = re.search('%s(.*)' % (left), how_out).group(1)","\t\tprint \"CAUGHT \", other, bowler","\t\tfieldingstat[\"catches\"]=1","\t\tother=other.strip()","\t\tif other in fielding_stats:","\t\t\tfielding_stats[other][\"catches\"]+=1","\t\telse:","\t\t\tfielding_stats[other]=fieldingstat","\tif(re.match('lbw b.*',how_out)): #LEG BEFORE WICKET","\t\tleft=\"lbw b \"","\t\tbowler=re.search('%s(.*)' % (left), how_out).group(1)","\t\tprint \"LBW \",bowler","\tif(re.match('b.*',how_out)): #BOWLED","\t\tleft=\"b \"","\t\tbowler=re.search('%s(.*)' % (left), how_out).group(1)","\t\tprint \"BOWLED \",bowler","\tif(re.match('c & b .*',how_out)): #CAUGHT AND BOWLED","\t\tleft=\"c & b \"","\t\tbowler=re.search('%s(.*)' % (left), how_out).group(1)","\t\tprint \"CAUGHT+BOWLED \",bowler","\t\tbowler=bowler.strip()","\t\tfieldingstat[\"catches\"]=1","\t\tif bowler in fielding_stats:","\t\t\tfielding_stats[bowler][\"catches\"]+=1","\t\telse:","\t\t\tfielding_stats[other]=fieldingstat","\tif(re.match('st.*b.*',how_out)): #STUMPED","\t\tleft=\"st \"","\t\tright=\" b \"","\t\tother = re.search('%s(.*)%s' % (left, right), how_out).group(1)","\t\tleft=\"b \"","\t\tfieldingstat[\"stumpings\"]=1","\t\tbowler = re.search('%s(.*)' % (left), how_out).group(1)","\t\tprint \"STUMPED \", other, bowler","\t\tif other in fielding_stats:","\t\t\tfielding_stats[other][\"stumpings\"]+=1","\t\telse:","\t\t\tfielding_stats[other]=fieldingstat","\tif(re.match('run out.*',how_out)): #RUN OUT","\t\tleft=\"(\"","\t\tright=\")\"","\t\tthrower = re.search('%s(.*)%s' % (left, right), how_out).group(1)","\t\tt=thrower.split('/')","\t\tbowler=t[0]","\t\tfieldingstat[\"runouts\"]=1","\t\tif bowler in fielding_stats:","\t\t\tfielding_stats[bowler][\"runouts\"]+=1","\t\telse:","\t\t\tfielding_stats[bowler]=fieldingstat","\t\tif(len(t)==2):","\t\t\tother=t[1]","\t\tfieldingstat[\"runouts\"]=1","\t\tif other in fielding_stats:","\t\t\tfielding_stats[other][\"runouts\"]+=1","\t\telse:","\t\t\tfielding_stats[other]=fieldingstat","\t\tprint \"RUN OUT\",t","\t","\tif(how_out.strip()==\"not out\"): #NOT OUT","\t\tprint \"NOT OUT\""]},{"start":{"row":11,"column":0},"end":{"row":84,"column":17},"action":"insert","lines":["def dismissal_handler(how_out):","\tother=\"\"","\tbowler=\"\"","\tfieldingstat={\"catches\":0, \"stumpings\":0, \"runouts\":0}","\tif(re.match('c.*b.*',how_out)):  #CATCH OUT","\t\tleft=\"c \"","\t\tright=\" b \"","\t\tother = re.search('%s(.*)%s' % (left, right), how_out).group(1)","\t\tleft=\"b \"","\t\tbowler = re.search('%s(.*)' % (left), how_out).group(1)","\t\tprint \"CAUGHT \", other, bowler","\t\tfieldingstat[\"catches\"]=1","\t\tother=other.strip()","\t\tif other in fielding_stats:","\t\t\tfielding_stats[other][\"catches\"]+=1","\t\telse:","\t\t\tfielding_stats[other]=fieldingstat","\tif(re.match('lbw b.*',how_out)): #LEG BEFORE WICKET","\t\tleft=\"lbw b \"","\t\tbowler=re.search('%s(.*)' % (left), how_out).group(1)","\t\tprint \"LBW \",bowler","\tif(re.match('b.*',how_out)): #BOWLED","\t\tleft=\"b \"","\t\tbowler=re.search('%s(.*)' % (left), how_out).group(1)","\t\tprint \"BOWLED \",bowler","\tif(re.match('c & b .*',how_out)): #CAUGHT AND BOWLED","\t\tleft=\"c & b \"","\t\tbowler=re.search('%s(.*)' % (left), how_out).group(1)","\t\tprint \"CAUGHT+BOWLED \",bowler","\t\tbowler=bowler.strip()","\t\tfieldingstat[\"catches\"]=1","\t\tif bowler in fielding_stats:","\t\t\tfielding_stats[bowler][\"catches\"]+=1","\t\telse:","\t\t\tfielding_stats[other]=fieldingstat","\tif(re.match('st.*b.*',how_out)): #STUMPED","\t\tleft=\"st \"","\t\tright=\" b \"","\t\tother = re.search('%s(.*)%s' % (left, right), how_out).group(1)","\t\tleft=\"b \"","\t\tfieldingstat[\"stumpings\"]=1","\t\tbowler = re.search('%s(.*)' % (left), how_out).group(1)","\t\tprint \"STUMPED \", other, bowler","\t\tif other in fielding_stats:","\t\t\tfielding_stats[other][\"stumpings\"]+=1","\t\telse:","\t\t\tfielding_stats[other]=fieldingstat","\tif(re.match('run out.*',how_out)): #RUN OUT","\t\tleft=\"run out (\"","\t\tright=\")\"","\t\tthrower = re.search('%s(.*)%s' % (left, right), how_out).group(1)","\t\t#print thrower","\t\tthrower=thrower.strip()","\t\tthrower=thrower[1:len(thrower)-1]","\t\tt=thrower.split('/')","\t\tbowler=t[0].strip()","\t\tfieldingstat[\"runouts\"]=1","\t\tif bowler in fielding_stats:","\t\t\tfielding_stats[bowler][\"runouts\"]+=1","\t\telse:","\t\t\tfielding_stats[bowler]=fieldingstat","\t\t#print t[0]","\t\tif(len(t)==2):","\t\t\tother=t[1].strip()","\t\t\t#print other","\t\tfieldingstat[\"runouts\"]=1","\t\tif other in fielding_stats:","\t\t\tfielding_stats[other][\"runouts\"]+=1","\t\telse:","\t\t\tfielding_stats[other]=fieldingstat","\t\t#print \"RUN OUT\",t[0],t[1]","\t","\tif(how_out.strip()==\"not out\"): #NOT OUT","\t\tprint \"NOT OUT\""]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":2},"end":{"row":0,"column":3},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":3},"end":{"row":0,"column":4},"action":"insert","lines":[" "]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1423674374586}